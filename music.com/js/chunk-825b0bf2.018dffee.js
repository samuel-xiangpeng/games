(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-825b0bf2"],{"314d":function(t,a,s){"use strict";var i=s("cf4a"),n=s.n(i);n.a},b0c0:function(t,a,s){var i=s("83ab"),n=s("9bf2").f,e=Function.prototype,c=e.toString,m=/^\s*function ([^ (]*)/,o="name";i&&!(o in e)&&n(e,o,{configurable:!0,get:function(){try{return c.call(this).match(m)[1]}catch(t){return""}}})},cf4a:function(t,a,s){},d372:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mv-container"},[s("div",{staticClass:"mv-wrap"},[s("h3",{staticClass:"title"},[t._v("mv详情")]),s("div",{staticClass:"video-wrap"},[s("video",{attrs:{controls:"",src:t.mvUrl}})]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"singer-info"},[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{src:t.artistCover,alt:""}})]),s("span",{staticClass:"name"},[t._v(t._s(t.artistName))])]),s("div",{staticClass:"mv-info"},[s("h2",{staticClass:"title"},[t._v(t._s(t.mvName))]),s("span",{staticClass:"date"},[t._v("发布："+t._s(t.publishTime))]),s("span",{staticClass:"number"},[t._v("播放："+t._s(t._f("formatTime")(t.playCount))+"次")]),s("p",{staticClass:"desc"},[t._v(t._s(t.desc))])])]),0!=t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 热门评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),t._l(t.hotComments,(function(a){return s("div",{key:a.commentId,staticClass:"comments-wrap"},[s("div",{staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(a.time)))])])])])}))],2):t._e(),0!=t.comments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a){return s("div",{key:a.commentId,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0)]):t._e(),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5},on:{"current-change":t.handleCurrentChange}})],1),s("div",{staticClass:"mv-recommend"},[s("h3",{staticClass:"title"},[t._v("相关推荐")]),s("div",{staticClass:"mvs"},t._l(t.simiMV,(function(a){return s("div",{key:a.id,staticClass:"items"},[s("div",{staticClass:"item",on:{click:function(s){return t.toMV(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(t._f("formatCount")(a.playCount)))])]),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatDuration")(a.duration)))])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])])})),0)])])},n=[],e=(s("b0c0"),s("bc3a")),c=s.n(e),m={name:"mv",data:function(){return{mvUrl:"",simiMV:[],hotComments:[],comments:[],limit:20,page:1,total:0,mvName:"",playCount:"",publishTime:"",desc:"",artistName:"",artistCover:""}},methods:{handleCurrentChange:function(t){this.page=t,this.getComments()},getComments:function(){var t=this,a=this.$route.query.id;c()({url:"https://autumnfish.cn/comment/mv",method:"get",params:{id:a,offset:5*(this.page-1)}}).then((function(a){a.data.hotComments&&(t.hotComments=a.data.hotComments),t.comments=a.data.comments,t.total=a.data.total}))},getInfo:function(){var t=this,a=this.$route.query.id;c()({url:"https://autumnfish.cn/mv/url",method:"get",params:{id:a}}).then((function(a){t.mvUrl=a.data.data.url})),c()({url:"https://autumnfish.cn/simi/mv",method:"get",params:{mvid:a}}).then((function(a){t.simiMV=a.data.mvs})),this.getComments(),c()({url:"https://autumnfish.cn/mv/detail",method:"get",params:{mvid:a}}).then((function(a){t.mvName=a.data.data.name,t.playCount=a.data.data.playCount,t.publishTime=a.data.data.publishTime,t.desc=a.data.data.desc,c()({url:"https://autumnfish.cn/artists",method:"get",params:{id:a.data.data.artistId}}).then((function(a){console.log(a),t.artistName=a.data.artist.name,t.artistCover=a.data.artist.picUrl}))}))},toMV:function(t){this.$router.push("/mvDetails?id=".concat(t))}},watch:{"$route.query.id":function(){this.page=1,this.getInfo()}},created:function(){this.getInfo()}},o=m,r=(s("314d"),s("2877")),l=Object(r["a"])(o,i,n,!1,null,null,null);a["default"]=l.exports}}]);